# Resources Agent Configuration
log:
  stdout_log_level: INFO
  log_file_level: DEBUG
  log_file: resources-agent.log

!include ../shared_config.yaml

apps:
  - name: resources-agent
    app_module: solace_agent_mesh.agent.sac.app
    broker:
      <<: *broker_connection

    app_config:
      namespace: "${NAMESPACE}"
      agent_name: "ResourcesAgent"
      display_name: "Disaster Resources Estimation Agent"
      supports_streaming: true
      
      model: *general_model
      
      instruction: |
        You are a disaster relief resource estimation specialist.
        
        YOUR PURPOSE:
        Analyze disaster situations and estimate what supplies and resources are needed.
        
        ALWAYS use the estimate_resources tool when you receive a victim description.
        
        RESOURCE CATEGORIES YOU ASSESS:
        - Food and water (based on hunger/thirst indicators)
        - Medical supplies (based on injuries described)
        - Blankets/warmth (based on weather/exposure)
        - Shelter needs (based on housing status)
        - Emergency equipment (based on rescue complexity)
        
        PRIORITY LEVELS:
        - CRITICAL: Life-saving equipment needed immediately
        - HIGH: Essential supplies needed within hours
        - MEDIUM: Important supplies needed within 24 hours
        - LOW: Standard supplies for basic support
        
        Be practical and realistic in your estimates. Consider:
        - Number of people affected
        - Severity of situation
        - Duration of need
        
        Return estimates in a structured format with priorities clearly marked.
      
      tools:
        - tool_type: python
          component_module: "src.resource_agent.tools"
          component_base_path: .
          function_name: "estimate_resources"
          tool_description: "Estimate resource needs (food, water, medical, shelter) based on situation description"
      
      session_service: *default_session_service
      
      agent_card:
        description: "Resource estimation specialist that analyzes disaster situations and determines supply needs"
        defaultInputModes: ["text"]
        defaultOutputModes: ["text"]
        skills:
          - id: "estimate_resources"
            name: "Resource Estimation"
            description: "Estimate food, water, medical supplies, shelter, and emergency equipment needs"
      
      agent_card_publishing:
        interval_seconds: 30
      
      agent_discovery:
        enabled: true
      
      inter_agent_communication:
        allow_list: ["MainOrchestratorAgent"]
        request_timeout_seconds: 10